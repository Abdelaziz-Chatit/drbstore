<div class="page-header">
    <h1>Checkout</h1>
    <p>Complete your order with secure payment</p>
</div>

<div class="payment-info" style="background-color: #e7f3ff; border-left: 4px solid #2196F3; padding: 15px; margin-bottom: 20px; border-radius: 4px;">
    <strong style="color: #1976D2;">ℹ️ Payment Mode</strong>
    <p style="margin: 5px 0 0 0; color: #555;">
        This store is currently in <strong>Demo Mode</strong>. Orders will be processed successfully, but real payment processing requires Stripe API keys to be configured in the .env file.
    </p>
</div>

<div class="checkout-container">
    <div class="checkout-section">
        <h2>Shipping Information</h2>
        <form method="POST" action="/checkout">
            <div class="form-group">
                <label>Full Name *</label>
                <input type="text" name="name" class="form-control" required placeholder="Enter your full name">
            </div>
            <div class="form-group">
                <label>Email Address *</label>
                <input type="email" name="email" class="form-control" required placeholder="your.email@example.com">
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="text" name="phone" class="form-control" placeholder="(555) 123-4567">
            </div>
            <div class="form-group">
                <label>Shipping Address *</label>
                <textarea name="address" class="form-control" rows="4" required placeholder="Street address, City, State, ZIP code"></textarea>
            </div>
            <button type="submit" class="btn btn-success" style="width: 100%; padding: 1rem; font-size: 1.1rem;">Complete Order →</button>
        </form>
    </div>
    <div>
        <div class="order-summary-card">
            <h3 style="margin-bottom: 1.5rem;">Order Summary</h3>
            <% if (typeof cartItems !== 'undefined' && cartItems.length > 0) { %>
                <% cartItems.forEach(item => { %>
                <div class="order-summary-item">
                    <div>
                        <div class="order-item-name"><%= item.product.name %></div>
                        <div class="order-item-details">Qty: <%= item.quantity %> × $<%= parseFloat(item.product.price).toFixed(2) %></div>
                    </div>
                    <div class="order-item-price">$<%= (parseFloat(item.product.price) * item.quantity).toFixed(2) %></div>
                </div>
                <% }); %>
            <% } %>
            <div class="order-summary-totals">
                <div class="order-total-row">
                    <span>Subtotal:</span>
                    <span>$<%= typeof total !== 'undefined' ? total : '0.00' %></span>
                </div>
                <div class="order-total-row">
                    <span>Shipping:</span>
                    <span>FREE</span>
                </div>
                <div class="order-total-final">
                    <span>Total:</span>
                    <span>$<%= typeof total !== 'undefined' ? total : '0.00' %></span>
                </div>
            </div>
        </div>
    </div>
</div>

